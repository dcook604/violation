{% extends 'base.html' %}
{% block title %}Register | Strata Violation Log{% endblock %}
{% block body_class %}login-bg{% endblock %}
{% block head %}{{ super() }}<link rel="stylesheet" href="{{ url_for('static', filename='login.css') }}">{% endblock %}
{% block container %}
  <div class="d-flex justify-content-center align-items-center min-vh-100">
    <div class="login-card">
      <img src="/static/logo.png" alt="Logo" class="login-logo">
      {% with errors = get_flashed_messages(category_filter=['error']) %}
        {% if errors %}
          <div class="login-error">{{ errors[0] }}</div>
        {% endif %}
      {% endwith %}
      <form method="post" novalidate>
        {{ form.hidden_tag() }}
        <div class="form-floating mb-3">
          {{ form.email(class="form-control", placeholder="Email", autofocus=True, required=True) }}
          {{ form.email.label(class="form-label") }}
          {% if form.email.errors %}
            <div class="invalid-feedback d-block">{{ form.email.errors[0] }}</div>
          {% endif %}
        </div>
        <div class="form-floating mb-3">
          {{ form.password(class="form-control", placeholder="Password", required=True) }}
          {{ form.password.label(class="form-label") }}
          {% if form.password.errors %}
            <div class="invalid-feedback d-block">{{ form.password.errors[0] }}</div>
          {% endif %}
        </div>
        <div class="form-floating mb-3">
          {{ form.password2(class="form-control", placeholder="Confirm Password", required=True) }}
          {{ form.password2.label(class="form-label") }}
          {% if form.password2.errors %}
            <div class="invalid-feedback d-block">{{ form.password2.errors[0] }}</div>
          {% endif %}
        </div>
        <button type="submit" class="btn btn-login w-100">Register</button>
        <div class="mt-3 text-center">
          <a href="/login" class="text-link" style="font-size:0.97rem;">Back to Login</a>
        </div>
      </form>
    </div>
  </div>
{% endblock %}
